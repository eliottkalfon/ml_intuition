---
title: "Représenter les Dates"
---

Le monde est en constante évolution. Le temps est le concept que nous avons créé pour raisonner sur la **séquence sauvage d'événements** que nous ordonnons en passé, présent et futur. À notre échelle humaine, ce temps est représenté à l'aide d'unités standard telles que : année, mois, jour, heure, minute et seconde.

J'écris ces lignes le vendredi 15 août 2025 à 08h31. En utilisant la norme ISO 8601, ce moment peut être représenté comme : `2025-08-15T08:31:00`. Ce qui suit peut être étendu pour inclure également mon fuseau horaire : `2025-08-15T08:31:00+02:00`, le `+02:00` à la fin.

## Dates et Prédiction

Les indications temporelles comme les dates peuvent contenir des informations qui peuvent améliorer la qualité des prédictions des modèles de Machine Learning.

### Tendance Générale

Gardons l'exemple de la tarification immobilière, dans lequel un modèle de Machine Learning est entraîné pour prédire les prix des propriétés à partir de leurs caractéristiques comme leur surface ou leur nombre de pièces. Utilisons les données d'entraînement suivantes comme exemple :

| Propriété | Surface (m²) | Pièces | Date d'estimation | Date de vente | Prix de vente (K€) |
|:---------:|:------------:|:------:|:-----------------:|:-------------:|:------------------:|
| A         | 85           | 3      | 2024-12-15        | 2025-02-13    | 302                |
| B         | 86           | 3      | 2025-01-15        | 2025-03-16    | 305                |
| C         | 84           | 3      | 2025-02-15        | 2025-04-16    | 303                |
| D         | 87           | 3      | 2025-03-15        | 2025-05-14    | 311                |
| E         | 85           | 3      | 2025-04-15        | 2025-06-14    | 309                |
| F         | 86           | 3      | 2025-05-15        | 2025-07-14    | 316                |
| G         | 84           | 3      | 2025-06-15        | 2025-08-14    | 314                |
| H         | 87           | 3      | 2025-07-15        | 2025-09-13    | 322                |

Quelle colonne de date utiliseriez-vous pour prédire le prix de vente et pourquoi ? La date de vente pourrait sembler une bonne idée. Cependant, lors de l'estimation de propriétés qui n'ont pas encore été vendues, cette information n'est **pas disponible** pour le modèle. Nous ne connaissons pas encore la date de vente. La seule date disponible pour le modèle d'estimation serait la **date d'estimation**, date à laquelle la propriété est mise sur le marché.

Pour cette raison, la date de vente ne peut pas être utilisée dans le modèle. La date d'estimation peut toujours contenir des informations utiles sur le prix. En traçant le prix de vente moyen par date d'estimation (à partir des données d'exemple), nous voyons la tendance suivante :

![Prix de vente par date d'estimation](/images/datetime/prices_by_date.png)

### Saisonnalité

Changeons d'exemple, supposons que vous êtes le gérant d'un pub et que vous essayez de prédire la quantité de bière que le bar vendra la semaine prochaine. Avoir une prévision précise des ventes de bière pourrait vous aider à mieux planifier votre personnel et vos stocks. Si vous prévoyez de vendre beaucoup de bière, vous devriez acheter beaucoup de stock et embaucher une équipe plus importante.

Les ventes de bière au cours des deux dernières années ressemblent à ceci :

![Ventes de bière au cours des deux dernières années avec saisonnalité et tendance](/images/datetime/beer_sales.png)

À partir de ce graphique, nous pouvions voir à la fois une **tendance à la hausse** et des **effets de saisonnalité**. La section suivante étudiera comment encoder ces informations en nombres.

## Encoder les Dates en Nombres

Comme décrit dans les [chapitres](data-space.qmd){target=_blank} précédents, les modèles de Machine Learning génèrent des prédictions en apprenant les relations entre les entrées et les sorties. Pour ce faire, ils représentent chaque observation comme une liste de nombres et utilisent des astuces mathématiques (comme la [distance](distance.qmd) ou la [séparation de l'espace](trees-intuition.qmd)) pour mapper les caractéristiques à une variable cible.

Pour rendre les dates lisibles par un modèle, elles doivent être encodées en nombres. Prenez un moment pour réfléchir à la façon dont vous représenteriez `2025-08-15T08:31:00` en nombres avant de continuer.

### Décomposer les Dates en Parties

La date `2025-08-15T08:31:00` peut être décomposée en les parties suivantes :

Année : 2025  
Mois : Août, ou 8  
Numéro de semaine : 33  
Jour : 15  
Jour de la semaine : Vendredi, ou 5 étant donné un début à 1 le lundi  
Heure : 8  
Minute : 31  
Seconde : 00

Cette date pourrait alors être représentée comme la **liste de nombres** suivante : ${2025, 8, 33, 15, 5, 8, 31, 00}$. Ces valeurs pourraient être utilisées comme des variables numériques normales.

En encodant la date d'estimation des données d'exemple avec cette méthode, nous obtenons :

| Date d'estimation | Année | Mois | Semaine ISO | Jour | Jour de semaine (Lun=1) | Heure | Minute | Seconde |
|:------------------|:------|:-----|:------------|:-----|:------------------------|:------|:-------|:--------|
| 2024-12-15 09:00:00 | 2024 | 12 | 50 | 15 | 7 | 9 | 0 | 0 |
| 2025-01-15 09:00:00 | 2025 | 1 | 3 | 15 | 3 | 9 | 0 | 0 |
| 2025-02-15 09:00:00 | 2025 | 2 | 7 | 15 | 6 | 9 | 0 | 0 |
| 2025-03-15 09:00:00 | 2025 | 3 | 11 | 15 | 6 | 9 | 0 | 0 |
| 2025-04-15 09:00:00 | 2025 | 4 | 16 | 15 | 2 | 9 | 0 | 0 |
| 2025-05-15 09:00:00 | 2025 | 5 | 20 | 15 | 4 | 9 | 0 | 0 |
| 2025-06-15 09:00:00 | 2025 | 6 | 24 | 15 | 7 | 9 | 0 | 0 |
| 2025-07-15 09:00:00 | 2025 | 7 | 29 | 15 | 2 | 9 | 0 | 0 |

Cela devrait déjà permettre de bonnes performances. Vous remarquerez peut-être que certaines caractéristiques de date peuvent être plus pertinentes que d'autres selon la tâche.

Par exemple, lors de la prédiction des ventes de glaces, le mois de l'année, le numéro de semaine et le jour de la semaine (par exemple, vendredi, samedi, dimanche) pourraient être importants. Alors que le numéro du jour (par exemple, 1 ou 15) pourrait ne pas être une caractéristique aussi significative. Lors de l'estimation des propriétés, l'année et le mois de l'année pourraient également être très importants tandis que le numéro du jour est pratiquement sans importance.

### Représenter les Dates sur les Ordinateurs

La décomposition des dates décrite ci-dessus est un très bon moyen d'extraire des informations pertinentes d'une date. Mais est-ce la seule façon de représenter les dates en nombres ?

La plupart des ordinateurs utilisent le **nombre de secondes** depuis un point prédéfini dans le temps, également appelé « epoch ». Pour les systèmes basés sur UNIX, ce point de départ est le 1er janvier 1970. L'horodatage UNIX pour `2025-08-15T08:31:00` est le nombre de secondes depuis le 1er janvier 1970 : $1755239460$.

Le saviez-vous ? Les systèmes de tableur comme Excel et Google Sheets stockent les dates comme le nombre de jours depuis une epoch, et l'heure de la journée comme la partie décimale d'un nombre entre 0 et 1. De cette façon, une date-heure peut être stockée comme un nombre décimal. En utilisant Google Sheets pour stocker la date d'exemple, nous obtenons : $45 884,35$. Avec $45884$ étant le nombre de jours depuis le 1er janvier 1900 et $,35$ représentant `08:31`, très proche d'un tiers de la journée de 24 heures.

Pourquoi prendre la peine d'apprendre cette représentation alternative ? Il s'avère que représenter le temps comme un nombre continu comme le nombre de jours depuis une date donnée peut aider à modéliser les tendances.

Revenant à l'exemple des prix de l'immobilier au fil du temps, imaginez que le prix moyen évolue de la manière suivante :

![Tendance linéaire ascendante](/images/datetime/property_trend.png)

Avoir une caractéristique qui représente un **point dans le temps** peut aider à déterminer le prix d'une propriété en tenant compte de cette tendance à la hausse. Par exemple, un modèle pourrait apprendre que le prix moyen des propriétés augmente de 1% tous les 130 jours.

En remplaçant les caractéristiques de date par leur horodatage UNIX, nous obtenons le tableau suivant :

| Propriété | Date d'estimation (UTC 09:00) | Horodatage UNIX |
|:---------:|:-----------------------------:|:---------------:|
| A         | 2024-12-15 09:00:00           | 1734253200      |
| B         | 2025-01-15 09:00:00           | 1736931600      |
| C         | 2025-02-15 09:00:00           | 1739610000      |
| D         | 2025-03-15 09:00:00           | 1742029200      |
| E         | 2025-04-15 09:00:00           | 1744707600      |
| F         | 2025-05-15 09:00:00           | 1747386000      |
| G         | 2025-06-15 09:00:00           | 1749978000      |
| H         | 2025-07-15 09:00:00           | 1752570000      |

## Réflexions Finales

Il était temps de terminer cette section. Nous avons couvert deux façons différentes d'encoder les caractéristiques de date pour un modèle de Machine Learning :

- Décomposer les dates en leurs parties
- Représenter les dates comme le nombre de secondes ou de jours depuis une epoch donnée

Il n'y a pas de façon optimale d'encoder les caractéristiques de date, cela dépend toujours du problème en question. Pour ce que vous essayez de prédire, comment le temps entre-t-il en jeu ?

C'est tout sur les types de données alternatifs. Maintenant que nous pouvons convertir n'importe quel type de données en nombres, les deux prochains chapitres exploreront les scénarios dans lesquels des données sont manquantes.
