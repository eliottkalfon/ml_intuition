---
title: Gérer les Valeurs Catégorielles Manquantes
---

Les valeurs catégorielles peuvent également être manquantes. Pour rappel, les variables catégorielles représentent des **groupes** ou **catégories**. Dans l'exemple de la tarification immobilière à Berlin, le quartier de la propriété (par exemple, « Neukölln », « Kreuzberg » ou « Charlottenburg ») est une variable catégorielle. Comme le quartier est une caractéristique si importante dans la tarification immobilière, il peut être judicieux de filtrer les observations pour lesquelles il est manquant.

Tout comme les variables numériques, il y a de nombreuses raisons pour lesquelles une valeur catégorielle peut être manquante :

- Manquante aléatoirement : l'observation est manquante pour une raison inconnue, sans aucun modèle apparent
- Non collectée : question optionnelle dans un sondage
- Non applicable : en tant qu'homme donnant du sang, je laisse la réponse à la question « êtes-vous enceinte ? » vide, car cela n'est pas applicable
- Mesure manquante : une classe d'efficacité énergétique manquante pourrait signifier que la propriété a encore besoin d'une inspection

Il est important de comprendre pourquoi les données peuvent être manquantes avant de trouver une stratégie d'imputation.

## Exclure les Lignes avec Observations Manquantes

Si une valeur manquante est critique pour la tâche de prédiction, filtrer les lignes avec des valeurs manquantes est la stratégie la plus sûre. Vous ne voudriez pas estimer une propriété sans connaître son quartier ou son code postal.

## Exclure les Colonnes avec Observations Manquantes

Si une colonne contient de nombreuses valeurs manquantes, supprimer la colonne ou revoir le script de traitement des données devrait être la stratégie préférée. C'est similaire à la méthode utilisée pour les [valeurs numériques manquantes](missing-numerical-values.qmd).

## Exclure les Lignes avec Observations Manquantes

De même, si la valeur catégorielle manquante est critique pour la tâche de prédiction, exclure l'observation est l'approche la plus sûre. Pourriez-vous considérer une propriété sans savoir si c'est une maison ou un appartement ? Ou sans connaître son quartier ?

## Créer une Nouvelle Catégorie Nulle

Dans d'autres cas, toutes les valeurs manquantes pourraient être remplacées par une catégorie « manquante » et traitées comme une autre valeur pour cette variable catégorielle. Rendons cela plus concret avec cet exemple :

| Propriété | Surface (m²) | Distance au Centre (km) | Quartier   | Classe Énergétique | Espace Extérieur | Prix de Vente (K€) | Années depuis Construction |
|:---------:|:------------:|:-----------------------:|:----------:|:------------------:|:----------------:|:------------------:|:--------------------------:|
| A         | 85           | 4.2                     | Neukölln   | B                  | Balcon           | 420                |                            |
| B         | 120          | 2.5                     | Kreuzberg  | A                  | Terrasse         | 610                | 8                          |
| C         | 95           | 6.1                     | Charlott.  | C                  |                  | 390                |                            |
| D         | 70           | 3.8                     | Kreuzberg  | D                  | Jardin           | 370                | 22                         |
| E         | 110          | 1.2                     | Charlott.  | B                  | Balcon           | 700                | 12                         |
| F         | 60           | 5.0                     | Neukölln   | F                  |                  | 310                |                            |

Ici, certaines des valeurs « Espace Extérieur » sont manquantes. Comme mentionné ci-dessus, les valeurs manquantes peuvent être remplacées par une valeur « Inconnu ».

| Propriété | Surface (m²) | Distance au Centre (km) | Quartier   | Classe Énergétique | Espace Extérieur | Prix de Vente (K€) | Années depuis Construction |
|:---------:|:------------:|:-----------------------:|:----------:|:------------------:|:----------------:|:------------------:|:--------------------------:|
| A         | 85           | 4.2                     | Neukölln   | B                  | Balcon           | 420                |                            |
| B         | 120          | 2.5                     | Kreuzberg  | A                  | Terrasse         | 610                | 8                          |
| C         | 95           | 6.1                     | Charlott.  | C                  | **Inconnu**      | 390                |                            |
| D         | 70           | 3.8                     | Kreuzberg  | D                  | Jardin           | 370                | 22                         |
| E         | 110          | 1.2                     | Charlott.  | B                  | Balcon           | 700                | 12                         |
| F         | 60           | 5.0                     | Neukölln   | F                  | **Inconnu**      | 310                |                            |

Cette valeur peut ensuite être traitée de la même manière que toutes les autres [valeurs catégorielles](categorical-variables.qmd), avec des méthodes comme le One-Hot Encoding ou le Target Encoding.

## Fuite d'Information

Tout comme l'[encodage des variables catégorielles](categorical-variables.qmd), la gestion des valeurs catégorielles manquantes peut créer une fuite d'information.

Ce processus doit être effectué sur les données d'entraînement uniquement, et appliqué à l'ensemble de test. Toute nouvelle catégorie vue uniquement dans l'ensemble de test doit être soit exclue, soit étiquetée comme manquante.

## Réflexions Finales

Ce chapitre a parcouru la gestion des valeurs manquantes avec les étapes suivantes :

- Comprendre pourquoi les valeurs sont manquantes
- Explorer si un filtrage est nécessaire
- Signaler les valeurs manquantes avec une nouvelle valeur catégorielle

Il est important de se rappeler d'éviter la fuite d'information dans la gestion des valeurs nulles. Cela peut être fait par une séparation claire de l'ensemble d'entraînement et de test, avant le prétraitement des données.

Le chapitre suivant reviendra aux données numériques et explorera la question de la mise à l'échelle.
